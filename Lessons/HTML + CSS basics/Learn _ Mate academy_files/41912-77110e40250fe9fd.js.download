(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[41912],{341912:function(n,e,o){"use strict";o.d(e,{d:function(){return V}});var t,r,i=o(147568),c=o(414924),a=o(10253),l=o(520414),s=o(785893),u=o(667294),d=o(449613),f=o(565699),p=o(438460),v=o(871436),h=o(454941),C=o(433764),m=o(718015),_=o(889465),b=o(430155),g=o(534038),k=o(134744),x=o(583575),w=o(554088),y=o(674924),Z=o(446328),P=o(928573),j=o(536490),N=o(522096),L=o(800256),H=o(870055),O=o(157747),I=function(n){var e=(0,u.useState)(!1),o=e[0],t=e[1],r=(0,a.Z)((0,O.f)({ssr:!0}),1)[0],c=(0,a.Z)((0,H.kDo)(),1)[0],s=(0,a.Z)(function(){var n=(0,a.Z)((0,L.D)(v.TL),2),e=n[0],o=n[1];return[(0,u.useCallback)((function(n){return e({variables:n,refetchQueries:[{query:v.hC,variables:{provider:n.provider}}]})}),[e]),o]}(),1),d=s[0];return[(0,u.useCallback)((0,i.Z)((function(){return(0,l.__generator)(this,(function(e){switch(e.label){case 0:return t(!0),[4,d({provider:n})];case 1:return e.sent(),n!==f.N.GitHub?[3,3]:r?[4,c({variables:{id:r.id,values:{githubUrl:null}}})]:[2];case 2:e.sent(),e.label=3;case 3:return t(!1),[2]}}))})),[d,n,r,c]),o]},W=o(484983),$=o(318373),Y=o(951509),A=o.n(Y),M=(t={},(0,c.Z)(t,f.N.GitHub,h.U),(0,c.Z)(t,f.N.Google,m.v),(0,c.Z)(t,f.N.Facebook,C.t),(0,c.Z)(t,f.N.LinkedIn,_.j),t),E=(r={},(0,c.Z)(r,f.N.GitHub,!0),(0,c.Z)(r,f.N.Google,!1),(0,c.Z)(r,f.N.Facebook,!1),(0,c.Z)(r,f.N.LinkedIn,!1),r),V=u.memo((function(n){var e,o=n.provider,t=n.scope,r=(0,g.$G)([b.WY.profile]).t,c=(0,a.Z)((0,W.r)(),3),f=c[0],h=c[1],C=c[2],m=(0,a.Z)((0,N.J)(o,void 0,t),2),_=m[0],L=m[1],H=(0,a.Z)(I(o),2),O=H[0],Y=H[1],V=(0,a.Z)((e={provider:o},(0,p.t)(v.hC,{variables:e})),2),B=V[0],S=V[1];(0,u.useEffect)((function(){B()}),[]);var q=L||Y,R=(0,u.useMemo)((function(){return!q&&S.called&&!S.loading}),[S,q]),T=(0,u.useMemo)((function(){var n;return null===S||void 0===S||null===(n=S.data)||void 0===n?void 0:n.oAuthProfile}),[S]),F=M[o],G=E[o],z=(0,u.useCallback)((0,i.Z)((function(){return(0,l.__generator)(this,(function(n){switch(n.label){case 0:return[4,_()];case 1:return n.sent().alreadyConnected&&C(),[2]}}))})),[_,C]),D=(0,u.useCallback)((function(){$.d.sendEvent($.d.events.profileLogOutModalOpened)}),[]),J=(0,u.useCallback)((function(){$.d.sendEvent($.d.events.profileModalConfirmLogOutClicked)}),[]),U=(0,u.useCallback)((function(){$.d.sendEvent($.d.events.profileModalRejectLogOutClicked)}),[]);return(0,s.jsxs)("div",{className:(0,d.cn)(A().row,"mb-24"),children:[(0,s.jsxs)("div",{className:A().item,children:[(0,s.jsxs)("div",{className:(0,d.cn)(A().roundIcon,"mr-16"),children:[(0,s.jsx)(F,{}),(0,s.jsx)(k.a,{size:15,loading:!R})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:A().provider,children:o}),T&&(0,s.jsx)("p",{children:T.login?"".concat(T.name," (").concat(T.login,")"):T.name})]})]}),(0,s.jsx)("div",{className:A().buttons,children:T?(0,s.jsx)(w.g,{onConfirm:function(){J(),O()},onCancel:U,confirmText:r("".concat(b.WY.profile,":profile_modal_disconnect")),cancelText:r("".concat(b.WY.profile,":profile_modal_cancel")),renderBody:function(){return G&&(0,s.jsxs)("div",{className:(0,d.cn)(A().warning,"mb-48"),children:[(0,s.jsx)(P.F,{className:(0,d.cn)(A().icon,"color-orange","mr-8")}),(0,s.jsx)("p",{children:r("".concat(b.WY.profile,":profile_modal_warning"))})]})},title:r("".concat(b.WY.profile,":profile_modal_title"),{provider:(0,j.k)(o)}),closeOnConfirm:!0,children:(0,s.jsx)(x.zx,{type:"button",mode:x.qo.Secondary,size:x.qE.Small,isLoading:q,disabled:S.loading,text:r("".concat(b.WY.profile,":profile_disconnect")),className:A().button,onClick:D})}):(0,s.jsx)(x.zx,{type:"button",mode:x.qo.Primary,size:x.qE.Small,onClick:z,text:r("".concat(b.WY.profile,":profile_connect")),className:A().button,isLoading:q,disabled:S.loading})}),(0,s.jsx)(y.s,{title:r("".concat(b.WY.profile,":reconnect_modal_title"),{provider:(0,j.k)(o)}),body:r("".concat(b.WY.profile,":reconnect_modal_body"),{provider:(0,j.k)(o)}),type:Z.$T.Warning,isOpen:f,onCancel:h,onConfirm:function(){_({forceReconnect:!0}),h()}})]})}))},554088:function(n,e,o){"use strict";o.d(e,{g:function(){return f}});var t=o(10253),r=o(785893),i=o(667294),c=o(484983),a=o(674924),l=o(534038),s=o(430155),u=o(512857),d=o.n(u),f=(0,i.memo)((function(n){var e=(0,l.$G)([s.WY.common]).t,o=n.children,u=n.body,f=n.renderBody,p=n.onConfirm,v=n.closeOnConfirm,h=void 0!==v&&v,C=n.confirmText,m=n.cancelText,_=n.isLoading,b=n.isDisabled,g=n.title,k=void 0===g?e("".concat(s.WY.common,":confirm-modal.title")):g,x=n.onCancel,w=(0,t.Z)((0,c.r)(),3),y=w[0],Z=w[1],P=w[2],j=(0,i.useCallback)((function(n){switch(n.key){case"Enter":case" ":P()}}),[P]),N=(0,i.useCallback)((function(){return h&&Z(),p()}),[Z,h,p]),L=(0,i.useCallback)((function(){x&&x(),Z()}),[Z,x]);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("section",{onClick:b?function(){}:P,role:"button","aria-disabled":b,tabIndex:0,onKeyDown:b?function(){}:j,className:d().wrapper,children:o}),(0,r.jsx)(a.s,{isOpen:y,onRequestClose:L,onConfirm:N,onCancel:L,confirmText:C,cancelText:m,title:k,body:u,isLoading:_,children:f&&f()})]})}))},433764:function(n,e,o){"use strict";o.d(e,{t:function(){return a}});var t=o(626042),r=o(269396),i=o(785893),c=(o(667294),o(94923)),a=function(n){return(0,i.jsxs)(c.s,(0,r.Z)((0,t.Z)({width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n),{children:[(0,i.jsx)("path",{d:"M0.75 2C0.75 0.89543 1.64543 0 2.75 0H22.75C23.8546 0 24.75 0.895431 24.75 2V22C24.75 23.1046 23.8546 24 22.75 24H2.75C1.64543 24 0.75 23.1046 0.75 22V2Z",fill:"#36497E"}),(0,i.jsx)("path",{d:"M17.75 3.4981C17.75 3.36549 17.6973 3.23832 17.6036 3.14455C17.5098 3.05078 17.3826 2.9981 17.25 2.9981H14.75C13.4911 2.93539 12.2586 3.37349 11.3217 4.21668C10.3848 5.05987 9.81978 6.2396 9.75 7.4981V10.1981H7.25C7.11739 10.1981 6.99021 10.2508 6.89645 10.3445C6.80268 10.4383 6.75 10.5655 6.75 10.6981V13.2981C6.75 13.4307 6.80268 13.5579 6.89645 13.6517C6.99021 13.7454 7.11739 13.7981 7.25 13.7981H9.75V20.4981C9.75 20.6307 9.80268 20.7579 9.89645 20.8517C9.99021 20.9454 10.1174 20.9981 10.25 20.9981H13.25C13.3826 20.9981 13.5098 20.9454 13.6036 20.8517C13.6973 20.7579 13.75 20.6307 13.75 20.4981V13.7981H16.37C16.4812 13.7997 16.5897 13.7642 16.6785 13.6972C16.7672 13.6302 16.8311 13.5355 16.86 13.4281L17.58 10.8281C17.5999 10.7542 17.6026 10.6768 17.5878 10.6017C17.5731 10.5266 17.5413 10.4559 17.4949 10.3951C17.4485 10.3342 17.3888 10.2848 17.3204 10.2507C17.2519 10.2165 17.1765 10.1985 17.1 10.1981H13.75V7.4981C13.7749 7.25058 13.8911 7.02121 14.076 6.85479C14.2609 6.68838 14.5012 6.59685 14.75 6.5981H17.25C17.3826 6.5981 17.5098 6.54542 17.6036 6.45165C17.6973 6.35789 17.75 6.23071 17.75 6.0981V3.4981Z",fill:"white"})]}))}},718015:function(n,e,o){"use strict";o.d(e,{v:function(){return a}});var t=o(626042),r=o(269396),i=o(785893),c=(o(667294),o(94923)),a=function(n){return(0,i.jsxs)(c.s,(0,r.Z)((0,t.Z)({width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n),{children:[(0,i.jsx)("path",{d:"M6.15405 14.1907L5.42307 16.9196L2.75135 16.9761C1.9529 15.4951 1.5 13.8007 1.5 12.0002C1.5 10.259 1.92345 8.61706 2.67403 7.1713H2.67461L5.05319 7.60737L6.09515 9.97168C5.87707 10.6075 5.75821 11.29 5.75821 12.0002C5.75829 12.7709 5.89791 13.5094 6.15405 14.1907Z",fill:"#FBBB00"}),(0,i.jsx)("path",{d:"M22.3164 10.0384C22.437 10.6736 22.4999 11.3295 22.4999 11.9999C22.4999 12.7517 22.4209 13.4849 22.2703 14.1923C21.7592 16.5992 20.4236 18.7009 18.5734 20.1882L18.5728 20.1876L15.5769 20.0348L15.1528 17.3878C16.3805 16.6678 17.34 15.5411 17.8454 14.1923H12.2307V10.0384H17.9273H22.3164Z",fill:"#518EF8"}),(0,i.jsx)("path",{d:"M18.5725 20.1879L18.5731 20.1885C16.7737 21.6348 14.4879 22.5002 11.9997 22.5002C8.00099 22.5002 4.52445 20.2652 2.75098 16.9762L6.15368 14.1908C7.0404 16.5573 9.32329 18.242 11.9997 18.242C13.15 18.242 14.2277 17.931 15.1525 17.3881L18.5725 20.1879Z",fill:"#28B446"}),(0,i.jsx)("path",{d:"M18.7022 3.9173L15.3006 6.70211C14.3435 6.10385 13.2122 5.75825 12.0001 5.75825C9.26313 5.75825 6.93753 7.52016 6.09523 9.97155L2.67465 7.17116H2.67407C4.42159 3.80193 7.94197 1.5 12.0001 1.5C14.5478 1.5 16.8837 2.40751 18.7022 3.9173Z",fill:"#F14336"})]}))}},928573:function(n,e,o){"use strict";o.d(e,{F:function(){return a}});var t=o(626042),r=o(269396),i=o(785893),c=(o(667294),o(94923)),a=function(n){return(0,i.jsx)(c.s,(0,r.Z)((0,t.Z)({width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n),{children:(0,i.jsx)("path",{d:"M10 0C4.48 0 0 4.48 0 10C0 15.52 4.48 20 10 20C15.52 20 20 15.52 20 10C20 4.48 15.52 0 10 0ZM11 15H9V13H11V15ZM11 11H9V5H11V11Z",fill:"currentColor"})}))}},109449:function(n,e,o){"use strict";o.d(e,{u:function(){return v}});var t=o(817673),r=o(667294),i=o(211752),c=o.n(i),a=o(565699),l=o(584813),s=o(298698),u=o(534145),d=o(430155),f=(c()()||{}).publicRuntimeConfig,p=void 0===f?{}:f,v=function(n,e){var o=e?"?".concat(t.stringify({scope:e})):"",i=p.NODE_ENV===d.OI.Test?"mock":n,c=function(n){var e=n.url,o=n.target,t=void 0===o?"":o,i=(0,u.ZW)().showMessage;return(0,r.useCallback)((function(){var n="\n      scrollbars=no,\n      resizable=no,\n      status=no,\n      location=no,\n      toolbar=no,\n      menubar=no,\n      width=".concat(640,",\n      height=").concat(window.innerHeight-100,",\n      left=").concat(window.innerWidth-640-100,",\n      top=").concat(50,"\n    ");try{return window.open(e,t,n)}catch(o){return i(s.X3.general.unexpectedError),null}}),[e,t,i])}({url:(0,l.getApiLink)("rest/oauth/".concat(i).concat(o))});return(0,r.useCallback)((function(){var n=c();return new Promise((function(e){window.onmessage=function(o){if(o.data.type===a.e.OAuthPopupResponse)try{e({success:!0,payload:JSON.parse(o.data.payload)})}catch(t){e({success:!0,payload:o.data.payload})}finally{window.onmessage=function(){},null===n||void 0===n||n.postMessage({action:"close",type:"OAuthParentRequest"},"*")}}}))}),[c])}},871436:function(n,e,o){"use strict";o.d(e,{JB:function(){return a},TL:function(){return d},hC:function(){return p},Nd:function(){return s}});var t=o(307297),r=o(644119),i=o.n(r);function c(){var n=(0,t.Z)(["\n  mutation connectOAuthProvider(\n    $provider: OAuthProviders!,\n    $token: String!,\n    $id: String!\n  ) {\n    connectOAuthProvider(\n      provider: $provider\n      token: $token\n      id: $id\n    ) {\n      alreadyConnected \n    }\n  }\n"]);return c=function(){return n},n}var a=i()(c());function l(){var n=(0,t.Z)(["\n  mutation reconnectOAuthProvider(\n    $provider: OAuthProviders!,\n    $token: String!,\n    $id: String!\n  ) {\n    reconnectOAuthProvider(\n      provider: $provider\n      token: $token\n      id: $id\n    )\n  }\n"]);return l=function(){return n},n}var s=i()(l());function u(){var n=(0,t.Z)(["\n  mutation disconnectOAuthProvider($provider: OAuthProviders!) {\n    disconnectOAuthProvider(provider: $provider)\n  }\n"]);return u=function(){return n},n}var d=i()(u());function f(){var n=(0,t.Z)(["\n  query oAuthProfile($provider: OAuthProviders!) {\n    oAuthProfile(provider: $provider) {\n      id\n      name\n      login\n    }\n  }\n"]);return f=function(){return n},n}var p=i()(f())},565699:function(n,e,o){"use strict";var t,r;o.d(e,{N:function(){return t},e:function(){return r}}),function(n){n.GitHub="github",n.Google="google",n.Facebook="facebook",n.LinkedIn="linkedin"}(t||(t={})),function(n){n.OAuthPopupResponse="oauthProviderResponse"}(r||(r={}))},522096:function(n,e,o){"use strict";o.d(e,{J:function(){return g}});var t=o(147568),r=o(10253),i=o(520414),c=o(667294),a=o(629815),l=o(800256),s=o(871436),u=o(109449),d=o(565699),f=o(430155),p=o(298698),v=o(534038),h=o(964277),C=o(534145),m=o(870055),_=o(157747),b=o(337383),g=function(n,e,o){var g=(0,C.ZW)().showMessage,k=(0,v.$G)([f.WY.github,f.WY.profile]).t,x=(0,c.useState)(!1),w=x[0],y=x[1],Z=(0,c.useState)(null),P=Z[0],j=Z[1],N=(0,u.u)(n,o),L=(0,r.Z)(function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=(0,r.Z)((0,l.D)(s.JB),2),o=e[0],t=e[1];return[(0,c.useCallback)((function(e){return o({variables:e,refetchQueries:[{query:s.hC,variables:{provider:e.provider}}].concat((0,a.Z)(n))})}),[o,n]),t]}(e),1),H=L[0],O=(0,r.Z)(function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=(0,r.Z)((0,l.D)(s.Nd),2),o=e[0],t=e[1];return[(0,c.useCallback)((function(e){return o({variables:e,refetchQueries:[{query:s.hC,variables:{provider:e.provider}}].concat((0,a.Z)(n))})}),[o,n]),t]}(e),1),I=O[0],W=(0,r.Z)((0,_.f)({ssr:!0}),1)[0],$=(0,r.Z)((0,m.kDo)(),1)[0],Y=(0,c.useCallback)((0,t.Z)((function(){var e,o,t,r,c,a=arguments;return(0,i.__generator)(this,(function(i){switch(i.label){case 0:return e=a.length>0&&void 0!==a[0]?a[0]:{forceReconnect:!1},y(!0),e.forceReconnect&&P?(t=P,[3,3]):[3,1];case 1:return[4,N()];case 2:t=i.sent(),i.label=3;case 3:return(o=t).success&&o.payload?(j(o),n===d.N.Facebook&&W&&(null===W||void 0===W?void 0:W.email)!==o.payload.emails[0].value?[4,g({type:p.oK.error,heading:k("".concat(f.WY.validates,":connect_profile_title")),text:k("".concat(f.WY.validates,":error_description_on_both_platform_should_be_the_same_email"))})]:[3,5]):(g(p.X3.general.unexpectedError),y(!1),[2,{alreadyConnected:!1}]);case 4:return i.sent(),y(!1),[2,{alreadyConnected:!1}];case 5:return i.trys.push([5,12,,14]),e.forceReconnect?[4,I({provider:n,id:o.payload.id,token:o.payload.accessToken})]:[3,7];case 6:return i.sent(),[3,9];case 7:return[4,H({provider:n,id:o.payload.id,token:o.payload.accessToken})];case 8:if(null===(r=i.sent().data)||void 0===r?void 0:r.connectOAuthProvider.alreadyConnected)return y(!1),[2,{alreadyConnected:!0}];i.label=9;case 9:return n!==d.N.GitHub?[3,11]:W?[4,$({variables:{id:W.id,values:{githubUrl:o.payload.profileUrl}}})]:[2,{alreadyConnected:!1}];case 10:i.sent(),i.label=11;case 11:return[3,14];case 12:return c=i.sent(),h.P.captureException(c,{logMessage:"Failed to connect profile",logger:b.k.child("useConnectProfile"),fields:{provider:o.payload.provider}}),[4,g({type:p.oK.error,heading:k("".concat(f.WY.validates,":connect_profile_title")),text:k("".concat(f.WY.validates,":connect_profile_description"))})];case 13:return i.sent(),[3,14];case 14:return y(!1),[2,{alreadyConnected:!1}]}}))})),[N,g,P,H,I,n,k,W,$]);return[Y,w]}},536490:function(n,e,o){"use strict";o.d(e,{k:function(){return r}});var t=o(759637),r=function(n){var e=n.split(" ").filter(Boolean).map((function(n){return n.toLowerCase()})),o=(0,t.Z)(e),r=o[0],i=o.slice(1);if(!r)return"";var c=i.length?" ".concat(i.join(" ")):"";return"".concat(r[0].toUpperCase()).concat(r.slice(1)).concat(c)}},951509:function(n){n.exports={row:"ConnectedProfileItem_row__5LpVd",provider:"ConnectedProfileItem_provider__m24yS",item:"ConnectedProfileItem_item__p3EHJ",buttons:"ConnectedProfileItem_buttons__PmIcq",button:"ConnectedProfileItem_button__yYd_y",roundIcon:"ConnectedProfileItem_roundIcon__uYvnJ",warning:"ConnectedProfileItem_warning__dHIk_",icon:"ConnectedProfileItem_icon__yv5h6",placeholder:"ConnectedProfileItem_placeholder__h2z4S",shine:"ConnectedProfileItem_shine__i3zIa"}},512857:function(n){n.exports={wrapper:"Popconfirm_wrapper__pvsqC",placeholder:"Popconfirm_placeholder__RzxkB",shine:"Popconfirm_shine__IN9yI"}}}]);
//# sourceMappingURL=https://static.mate.academy/frontend/4171050c2e5636b4ac8c7c906ef524bed46704f7/_next/static/chunks/41912-77110e40250fe9fd.js.map